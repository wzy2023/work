import{d as p,U as g,r,R as d,A as f,H as s,z as v,C as u,bt as k,x as _,J as h,l as t,ae as o,af as S}from"./index-fbbac701.js";import{b as x}from"./DataTable-1f6f0c54.js";import{N as y}from"./Time-e45edf09.js";import"./Forward-3cd0631b.js";import"./Dropdown-178d9d7e.js";import"./FocusDetector-10318a71.js";import"./index-f5ac7aca.js";const I=p({__name:"index",setup(z){const c=g(),n=r(!1),a=r({page:1,pageSize:10,itemCount:0,showSizePicker:!0,pageSizes:[10,20,50,100],onChange:e=>{a.value.page=e,i()},onUpdatePageSize:e=>{a.value.pageSize=e,a.value.page=1,i()},prefix:e=>`共 ${e.itemCount} 条`}),i=async()=>{try{n.value=!0;const{data:e}=await k({page:{current:a.value.page,pageSize:a.value.pageSize}});if(n.value=!1,!e)return;l.value=e.list,a.value.itemCount=e.total}catch(e){c.error(e==null?void 0:e.message)}},m=[{title:"注册人",key:"invitee",align:"center",render:e=>t(o,{userInfo:e==null?void 0:e.invitee,showDetail:!0})},{title:"注册人昵称",key:"invitee.wx.nickname",align:"center"},{title:"邀请人",key:"inviter",align:"center",render:e=>t(o,{userInfo:e==null?void 0:e.inviter,showDetail:!0})},{title:"邀请人昵称",key:"inviter.wx.nickname",align:"center"},{title:"点数",key:"num",align:"center",render:e=>t(S,{type:"default"},`+ ${e.num||0}`)},{title:"注册时间",key:"createAt",align:"center",render:e=>t(y,{time:Number(e.createAt)})}],l=r([]);return d(()=>{i()}),(e,C)=>(_(),f("div",null,[s(u(h),{title:"邀请记录",size:"small"},{default:v(()=>[s(u(x),{remote:"",loading:n.value,columns:m,data:l.value,bordered:!1,pagination:a.value,"scroll-x":"1350"},null,8,["loading","data","pagination"])]),_:1})]))}});export{I as default};
