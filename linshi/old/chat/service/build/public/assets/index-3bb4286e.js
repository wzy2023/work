import{d as g,U as d,r,R as f,A as v,H as s,z as k,C as o,bu as y,x as _,J as h,l as a,ae as u,af as c}from"./index-fbbac701.js";import{b as x}from"./DataTable-1f6f0c54.js";import{N as z}from"./Time-e45edf09.js";import"./Forward-3cd0631b.js";import"./Dropdown-178d9d7e.js";import"./FocusDetector-10318a71.js";import"./index-f5ac7aca.js";const B=g({__name:"index",setup(S){const p=d(),n=r(!1),t=r({page:1,pageSize:10,itemCount:0,showSizePicker:!0,pageSizes:[10,20,50,100],onChange:e=>{t.value.page=e,i()},onUpdatePageSize:e=>{t.value.pageSize=e,t.value.page=1,i()},prefix:e=>`共 ${e.itemCount} 条`}),i=async()=>{try{n.value=!0;const{data:e}=await y({page:{current:t.value.page,pageSize:t.value.pageSize}});if(n.value=!1,!e)return;l.value=e.list,t.value.itemCount=e.total}catch(e){p.error(e==null?void 0:e.message)}},m=[{title:"充值人",key:"invitee",align:"center",render:e=>a(u,{userInfo:e==null?void 0:e.invitee,showDetail:!0})},{title:"充值人昵称",key:"invitee.wx.nickname",align:"center"},{title:"邀请人",key:"inviter",align:"center",render:e=>a(u,{userInfo:e==null?void 0:e.inviter,showDetail:!0})},{title:"邀请人昵称",key:"inviter.wx.nickname",align:"center"},{title:"金额",key:"price",align:"center",render:e=>a(c,{type:"default"},`+ ${e.price||0}`)},{title:"分成",key:"income",align:"center",render:e=>a(c,{type:"default"},`+ ${e.income||0}`)},{title:"充值时间",key:"createAt",align:"center",render:e=>a(z,{time:Number(e.createAt)})}],l=r([]);return f(()=>{i()}),(e,C)=>(_(),v("div",null,[s(o(h),{title:"邀请记录",size:"small"},{default:k(()=>[s(o(x),{remote:"",loading:n.value,columns:m,data:l.value,bordered:!1,pagination:t.value,"scroll-x":"1350"},null,8,["loading","data","pagination"])]),_:1})]))}});export{B as default};
